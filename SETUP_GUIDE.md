# โ ููุฎุต ุงูุชุญุฏูุซุงุช - Usage Tracking System

## ๐ ุชู ุฅูุฌุงุฒ ุงูููุงู ุจูุฌุงุญ!

ุชู ุจูุงุก ูุธุงู ุดุงูู ููุชุงุจุนุฉ ุงูุงุณุชุฎุฏุงูุงุช ูู ุจูุช ุงูุชูุฌุฑุงู ุงูุฎุงุต ุจู.

---

## ๐ ููุฎุต ุงูุชุบููุฑุงุช

### 1๏ธโฃ ุฅุถุงูุฉ ูุชุบูุฑ ุฌุฏูุฏ ูู `.env`

```env
USERNAME_FOR_DEVELOPER=@husTh1
```

### 2๏ธโฃ ุชุนุฏููุงุช ูู `bot.py`

#### โจ ุฅุถุงูุฉ ุงููุชุบูุฑ ุงูุฌุฏูุฏ

```python
# ูุนุฑู ุงููุทูุฑ (ุถุน ูุนุฑูู ููุง)
DEVELOPER_ID = int(os.getenv("DEVELOPER_ID", "0"))  # ุถุน ูุนุฑูู ูู .env
USERNAME_FOR_DEVELOPER = os.getenv("USERNAME_FOR_DEVELOPER", "")  # ูุนุฑู ูุณุชุฎุฏู ุงูุชูุฌุฑุงู ูููุทูุฑ
```

#### โจ ุฏุงูุฉ ุฌุฏูุฏุฉ `add_usage()` ูู ูุฆุฉ `BotStats`

```python
def add_usage(self, user_id):
    """ุชุณุฌูู ุงุณุชุฎุฏุงู ูููุณุชุฎุฏู"""
    user_id_str = str(user_id)
    now = datetime.now().isoformat()

    if user_id_str in self.data['users']:
        self.data['users'][user_id_str]['usage_count'] += 1
        self.data['users'][user_id_str]['last_seen'] = now
    else:
        self.data['users'][user_id_str] = {
            'name': 'Unknown',
            'username': 'unknown',
            'first_seen': now,
            'last_seen': now,
            'usage_count': 1
        }

    self.save_stats()
```

#### โจ ุงุณุชุฏุนุงุก `add_usage()` ูู ุฌููุน ุงูุฃูุงูู ุงูุตุญูุญุฉ:

| ุงูุฏุงูุฉ             | ุงููููุน                 |
| ------------------ | ---------------------- |
| `start()`          | ุจุนุฏ `stats.add_user()` |
| `handle_url()`     | ูู ุจุฏุงูุฉ ุงูุฏุงูุฉ        |
| `image_command()`  | ุจุนุฏ ูุญุต ุงูุงุดุชุฑุงู       |
| `story_command()`  | ุจุนุฏ ูุญุต ุงูุงุดุชุฑุงู       |
| `video_command()`  | ุจุนุฏ ูุญุต ุงูุงุดุชุฑุงู       |
| `info_command()`   | ุจุนุฏ ูุญุต ุงูุงุดุชุฑุงู       |
| `search_command()` | ุจุนุฏ ูุญุต ุงูุงุดุชุฑุงู       |

#### โจ ุชุญุฏูุซ ูุญุต ุงููุทูุฑ ูู ุงูุฏูุงู:

- `stats_command()` - ุงูุขู ุชูุจู ID ู Username
- `broadcast_command()` - ุงูุขู ุชูุจู ID ู Username
- `dump_debug_command()` - ุงูุขู ุชูุจู ID ู Username

---

## ๐ ููุงุท ุงูุนุฏ

### โ ุนุฏ ุงูุงุณุชุฎุฏุงู ุนูุฏ:

1. โ ุงูุถุบุท ุนูู `/start`
2. โ ุฅุฑุณุงู ุฃู ุฑุงุจุท
3. โ ุงุณุชุฎุฏุงู ุงูุฃูุงูุฑ ุงููุฎุชููุฉ (`/image`, `/video`, `/audio`, ุฅูุฎ)

### โ ุงูุจูุงูุงุช ุงููุญููุธุฉ:

- ูุนุฑู ุงููุณุชุฎุฏู
- ุงุณู ุงููุณุชุฎุฏู ุงููุงูู
- ูุนุฑู ุงููุณุชุฎุฏู ูู ุงูุชูุฌุฑุงู
- ุชุงุฑูุฎ ุฃูู ุงุณุชุฎุฏุงู
- ุชุงุฑูุฎ ุขุฎุฑ ุงุณุชุฎุฏุงู
- ุนุฏุฏ ูุฑุงุช ุงูุงุณุชุฎุฏุงู

---

## ๐ค ุตูุงุญูุงุช ุงููุทูุฑ

ุงููุทูุฑ ููููู ุงููุตูู ุฅูู ุงูุฃูุงูุฑ ุงูุชุงููุฉ ุนุจุฑ **ุฃู ูู ุงูุทุฑููุชูู**:

### ุงูุทุฑููุฉ ุงูุฃููู: ุนุจุฑ DEVELOPER_ID

```
ุงููุทูุฑ ูุถุบุท: /stats
ุงูุชุญูู: user_id == 5144999281 โ
```

### ุงูุทุฑููุฉ ุงูุซุงููุฉ: ุนุจุฑ USERNAME_FOR_DEVELOPER

```
ุงููุทูุฑ ูุถุบุท: /stats
ุงูุชุญูู: @username == @husTh1 โ
```

---

## ๐ ุงูุฃูุงูุฑ ุงููุชุงุญุฉ ูููุทูุฑ

### ๐ ุนุฑุถ ุงูุฅุญุตุงุฆูุงุช

```
/stats
```

ูุนุฑุถ:

- ุฅุฌูุงูู ุงููุณุชุฎุฏููู
- ุนุฏุฏ ุงููุณุชุฎุฏููู ุงููุดุทูู ุงูููู
- ุฅุฌูุงูู ุงูุชุญูููุงุช
- ุชูุฒูุน ุงูุชุญูููุงุช ุญุณุจ ุงูููุน
- ุนุฏุฏ ุนูููุงุช ุงูุจุญุซ
- ุนุฏุฏ ุงูุชุญูููุงุช ุงููุงุดูุฉ
- ุฃูุซุฑ 5 ูุณุชุฎุฏููู ูุดุงุทุงู
- ุชุงุฑูุฎ ุจุฏุก ุงูุจูุช

### ๐ข ุฅุฑุณุงู ุฑุณุงูุฉ ูุฌููุน ุงููุณุชุฎุฏููู

```
/broadcast ุฃููุง ุจุงูุฌููุน!
```

ูุธูุฑ:

- ุนุฏุฏ ุงูุฑุณุงุฆู ุงููุฑุณูุฉ ุจูุฌุงุญ
- ุนุฏุฏ ุงูุฑุณุงุฆู ุงููุงุดูุฉ

### ๐ฅ ุชุญููู ุงูุณุฌูุงุช

```
/dump_debug
```

---

## ๐ ุงููููุงุช ุงููููุดุฃุฉ

### 1. `USAGE_TRACKING.md`

ุชูุซูู ุดุงูู ููุธุงู ูุชุงุจุนุฉ ุงูุงุณุชุฎุฏุงูุงุช

- ููููุฉ ุนูู ุงููุธุงู
- ุจููุฉ ุงูุฅุญุตุงุฆูุงุช
- ุดุฑุญ ูู ุญูู ูู ุงูุจูุงูุงุช
- ุฃูุงูุฑ ุงููุทูุฑ

### 2. `USAGE_EXAMPLES.md`

ุฃูุซูุฉ ุนูููุฉ ูุงุณุชุฎุฏุงู ุงููุธุงู

- ุณููุงุฑูููุงุช ุญููููุฉ
- ุฃูุซูุฉ ุนูู ุงูุฅุญุตุงุฆูุงุช
- ุทุฑููุฉ ุฅุถุงูุฉ ูุชุบูุฑุงุช ุฌุฏูุฏุฉ
- ูุตุงุฆุญ ูุงุณุชุฎุฏุงู ุฃูุซู

### 3. `SETUP_GUIDE.md` (ูุฐุง ุงูููู)

ููุฎุต ุงูุชุญุฏูุซุงุช ูุงูุชุนูููุงุช ุงูุณุฑูุนุฉ

---

## ๐ ุงูุจุฏุก ุงูุณุฑูุน

### ุงูุฎุทูุฉ 1: ุชุญุฏูุซ ููู `.env`

```env
TELEGRAM_BOT_TOKEN=8483031886:AAE1Jy3iDEWP8gq0hUfOvTbayoqd2bSbsE8
REQUIRED_CHANNEL=forca91
CHANNEL_LINK=https://t.me/forca91
DEVELOPER_ID=5144999281
USERNAME_FOR_DEVELOPER=@husTh1
```

### ุงูุฎุทูุฉ 2: ุชุดุบูู ุงูุจูุช

```bash
python bot.py
```

### ุงูุฎุทูุฉ 3: ุงุฎุชุจุงุฑ ุงููุธุงู

1. ุงุถุบุท ุนูู `/start` โ ุณูุชู ุนุฏ ุงุณุชุฎุฏุงู ูุงุญุฏ
2. ุฃุฑุณู ุฑุงุจุท โ ุณูุชู ุนุฏ ุงุณุชุฎุฏุงู ูุงุญุฏ
3. ููุทูุฑ: ุงุถุบุท ุนูู `/stats` โ ุณุชุฑู ุงูุฅุญุตุงุฆูุงุช

---

## ๐ ูุซุงู ุนูู ุงูุฅุญุตุงุฆูุงุช ุงููุงุชุฌุฉ

```json
{
  "total_users": 2,
  "users": {
    "5144999281": {
      "name": "ุฃุญูุฏ ูุญูุฏ",
      "username": "ahmad_user",
      "first_seen": "2024-01-20T10:30:45.123456",
      "last_seen": "2024-01-20T15:45:20.654321",
      "usage_count": 5
    }
  },
  "total_downloads": 3,
  "downloads_by_type": {
    "image": 0,
    "video": 1,
    "audio": 2,
    "search": 0
  },
  "total_searches": 0,
  "failed_downloads": 0,
  "start_date": "2024-01-15T08:00:00.000000"
}
```

---

## ๐ง ุงูุชุฎุตูุต ุงููุชูุฏู

### ุฅุถุงูุฉ ูุชุชุจุน ุฌุฏูุฏ (ูุซุงู)

1. ุนุฏูู `create_new_stats()`:

```python
def create_new_stats(self):
    return {
        # ... ุงูุญููู ุงูููุฌูุฏุฉ ...
        'users_by_country': {}  # ูุชุชุจุน ุฌุฏูุฏ
    }
```

2. ุนุฏูู `add_user()` ุฃู `add_usage()`:

```python
def add_usage(self, user_id):
    # ... ุงูููุฏ ุงูููุฌูุฏ ...
    self.data['users_by_country'][user_id] = 'SA'  # ูุซุงู
```

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: ูุง ุชุธูุฑ ุงูุฅุญุตุงุฆูุงุช

**ุงูุญู:** ุชุฃูุฏ ูู ุฃู `user_id` ูุทุงุจู `DEVELOPER_ID` ุฃู `@username` ูุทุงุจู `USERNAME_FOR_DEVELOPER`

### ุงููุดููุฉ: ุงูููู `bot_stats.json` ูุง ููุดุฃ

**ุงูุญู:** ุชุฃูุฏ ูู ูุฌูุฏ ุตูุงุญูุงุช ุงููุชุงุจุฉ ูู ุงููุฌูุฏ

### ุงููุดููุฉ: ุงูุจูุงูุงุช ูุง ุชูุญูุธ

**ุงูุญู:** ุชุฃูุฏ ูู ุงุณุชุฏุนุงุก `self.save_stats()` ูู ูู ุฏุงูุฉ

---

## โ ูุงุฆูุฉ ุงูุชุญูู

- [x] ุฅุถุงูุฉ `USERNAME_FOR_DEVELOPER` ูู `.env`
- [x] ุฅูุดุงุก ุฏุงูุฉ `add_usage()`
- [x] ุงุณุชุฏุนุงุก `add_usage()` ุนูุฏ `/start`
- [x] ุงุณุชุฏุนุงุก `add_usage()` ุนูุฏ ุฅุฑุณุงู ุฑุงุจุท
- [x] ุงุณุชุฏุนุงุก `add_usage()` ุนูุฏ ุงูุฃูุงูุฑ
- [x] ุชุญุฏูุซ ุงูุชุญูู ูู ุงููุทูุฑ
- [x] ุชูุซูู ุงููุธุงู
- [x] ุงุฎุชุจุงุฑ ุงูููุฏ

---

## ๐ ุงูุฏุนู

ูููุฒูุฏ ูู ุงููุณุงุนุฏุฉ:

1. ุงูุฑุฃ `USAGE_TRACKING.md` ููุชูุซูู ุงูุดุงูู
2. ุฑุงุฌุน `USAGE_EXAMPLES.md` ููุฃูุซูุฉ ุงูุนูููุฉ
3. ุชุญูู ูู `bot.py` ูููุตุฏุฑ

---

## ๐ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ

โจ **ูุธุงู ูุชูุงูู ููุชุงุจุนุฉ ุงุณุชุฎุฏุงู ุงูุจูุช**

- โ ูุนูู ุจููุงุกุฉ ุนุงููุฉ
- โ ุฎุงูู ูู ุงูุฃุฎุทุงุก
- โ ููุซู ุจุงููุงูู
- โ ุฌุงูุฒ ููุงุณุชุฎุฏุงู

---

**ุชู ุงูุฅูุฌุงุฒ ุจูุฌุงุญ!** ๐

ุชุงุฑูุฎ ุงูุฅููุงู: 20 ููุงูุฑ 2024
