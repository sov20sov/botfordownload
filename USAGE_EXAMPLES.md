# ๐ ูุซุงู ุนููู ููุธุงู ูุชุงุจุนุฉ ุงูุงุณุชุฎุฏุงูุงุช

## ุงูุณููุงุฑูู ุงูุฃูู: ูุณุชุฎุฏู ุฌุฏูุฏ ูุจุฏุฃ ุจุงุณุชุฎุฏุงู ุงูุจูุช

```
1. ุงููุณุชุฎุฏู: ูุถุบุท ุนูู /start
   โ
2. ุงูุจูุช: ูุณุฌู ุงููุณุชุฎุฏู + ูุนุฏ ุงุณุชุฎุฏุงู ูุงุญุฏ
   {
     "name": "ุฃุญูุฏ ูุญูุฏ",
     "username": "ahmad_user",
     "usage_count": 1,
     "first_seen": "2024-01-20T10:30:45.123456",
     "last_seen": "2024-01-20T10:30:45.123456"
   }
```

## ุงูุณููุงุฑูู ุงูุซุงูู: ุงููุณุชุฎุฏู ูุญูู ููุทุน ููุฏูู

```
1. ุงููุณุชุฎุฏู: ูุถุบุท ุนูู ุฒุฑ "๐ฌ ููุฏูู" ุซู ูุฑุณู ุฑุงุจุท
   โ
2. ุงูุจูุช: ูุนุฏ ุงุณุชุฎุฏุงู ูุงุญุฏ
   usage_count: 1 โ 2
   last_seen: 2024-01-20T10:35:20.654321

3. ุงูุจูุช: ููุฌุญ ูู ุงูุชุญููู
   total_downloads: 149 โ 150
   downloads_by_type.video: 49 โ 50
```

## ุงูุณููุงุฑูู ุงูุซุงูุซ: ุงููุทูุฑ ูุฑูุฏ ุฑุคูุฉ ุงูุฅุญุตุงุฆูุงุช

```
1. ุงููุทูุฑ: ูุถุบุท ุนูู /stats
   โ
2. ุงูุจูุช: ูุชุญูู ูู ุงููููุฉ
   - ููุญุต: user_id == DEVELOPER_ID ุฃู @username == USERNAME_FOR_DEVELOPER
   โ ูุทุงุจู!

3. ุงูุจูุช: ูุฑุณู ุงูุฅุญุตุงุฆูุงุช ุงูุดุงููุฉ
```

---

## ๐ ูุซุงู ุนูู ุงูุฅุญุตุงุฆูุงุช ุงููุงููุฉ

```
๐ ุฅุญุตุงุฆูุงุช ุงูุจูุช ุงูุดุงููุฉ

๐ฅ ุงููุณุชุฎุฏููู:
โข ุฅุฌูุงูู ุงููุณุชุฎุฏููู: 45
โข ุงููุณุชุฎุฏููู ุงููุดุทูู ุงูููู: 12

๐ฅ ุงูุชุญูููุงุช:
โข ุฅุฌูุงูู ุงูุชุญูููุงุช: 150
  - ุตูุฑ: 20
  - ููุฏูููุงุช: 50
  - ููุณููู: 60
  - ุฃุบุงูู (ุจุญุซ): 20

๐ ุงูุจุญุซ:
โข ุฅุฌูุงูู ุนูููุงุช ุงูุจุญุซ: 20

โ ุงููุดู:
โข ุงูุชุญูููุงุช ุงููุงุดูุฉ: 5

๐ ุฃูุซุฑ ุงููุณุชุฎุฏููู ูุดุงุทุงู:
  1. ุฃุญูุฏ ูุญูุฏ (@ahmad_user) - 45 ุงุณุชุฎุฏุงู
  2. ูุญูุฏ ุนูู (@ali_user) - 38 ุงุณุชุฎุฏุงู
  3. ูุงุทูุฉ ุฃุญูุฏ (@fatima_user) - 32 ุงุณุชุฎุฏุงู
  4. ุณุงุฑุฉ ูุญููุฏ (@sarah_user) - 28 ุงุณุชุฎุฏุงู
  5. ุนูู ุญุณู (@ali_hassan) - 25 ุงุณุชุฎุฏุงู

๐ ุชุงุฑูุฎ ุงูุจุฏุก: 2024-01-15
```

---

## ๐ ูุญุต ููู ุงูุฅุญุตุงุฆูุงุช

```bash
# ูุนุฑุถ ุงูููู ูู ุงูุชุทุจูู
cat bot_stats.json | python -m json.tool
```

### ูุญุชูู `bot_stats.json` ุงููููุฐุฌู:

```json
{
  "total_users": 45,
  "users": {
    "5144999281": {
      "name": "ุฃุญูุฏ ูุญูุฏ",
      "username": "ahmad_user",
      "first_seen": "2024-01-20T10:30:45.123456",
      "last_seen": "2024-01-20T15:45:20.654321",
      "usage_count": 45
    },
    "123456789": {
      "name": "ูุญูุฏ ุนูู",
      "username": "ali_user",
      "first_seen": "2024-01-18T08:15:30.000000",
      "last_seen": "2024-01-20T14:20:10.000000",
      "usage_count": 38
    }
  },
  "total_downloads": 150,
  "downloads_by_type": {
    "image": 20,
    "video": 50,
    "audio": 60,
    "search": 20
  },
  "total_searches": 20,
  "failed_downloads": 5,
  "start_date": "2024-01-15T08:00:00.000000"
}
```

---

## โ๏ธ ููููุฉ ุฅุถุงูุฉ ูุชุบูุฑุงุช ุฌุฏูุฏุฉ

### ูุซุงู: ุชุชุจุน ููุน ุงููุญุชูู ุงูุฃูุซุฑ ุงุณุชุฎุฏุงูุงู ูููุณุชุฎุฏู

**ุงูุฎุทูุฉ 1:** ุนุฏูู `add_user()`:

```python
def add_user(self, user_id, name, username):
    """ุฅุถุงูุฉ ูุณุชุฎุฏู ุฌุฏูุฏ"""
    user_id_str = str(user_id)
    now = datetime.now().isoformat()

    if user_id_str not in self.data['users']:
        self.data['total_users'] += 1
        self.data['users'][user_id_str] = {
            'name': name,
            'username': username,
            'first_seen': now,
            'last_seen': now,
            'usage_count': 0,
            'preferred_type': None,  # โจ ูุชุบูุฑ ุฌุฏูุฏ
            'type_usage': {
                'image': 0,
                'video': 0,
                'audio': 0
            }
        }

    self.data['users'][user_id_str]['last_seen'] = now
    self.save_stats()
```

**ุงูุฎุทูุฉ 2:** ุนุฏูู ุฏุงูุฉ ุงูุชุญููู:

```python
def add_download_for_user(self, user_id, download_type):
    """ุชุณุฌูู ุชุญููู ูุน ูุชุงุจุนุฉ ุงูููุน"""
    user_id_str = str(user_id)

    if user_id_str in self.data['users']:
        if download_type in self.data['users'][user_id_str]['type_usage']:
            self.data['users'][user_id_str]['type_usage'][download_type] += 1

            # ุชุญุฏูุฏ ุงูููุน ุงูููุถู
            max_type = max(
                self.data['users'][user_id_str]['type_usage'],
                key=self.data['users'][user_id_str]['type_usage'].get
            )
            self.data['users'][user_id_str]['preferred_type'] = max_type

    self.save_stats()
```

---

## ๐จ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

```python
# ูุญุงููุฉ ุงููุตูู ุฅูู ุจูุงูุงุช ุบูุฑ ููุฌูุฏุฉ
try:
    stats.add_usage(user_id)
except KeyError:
    logger.error(f"ูู ูุชู ุงูุนุซูุฑ ุนูู ุงููุณุชุฎุฏู: {user_id}")

# ูุดู ูู ุงูุญูุธ
try:
    stats.save_stats()
except IOError as e:
    logger.error(f"ูุดู ุญูุธ ุงูุฅุญุตุงุฆูุงุช: {e}")
```

---

## ๐ก ูุตุงุฆุญ ููุงุณุชุฎุฏุงู ุงูุฃูุซู

1. **ูุง ุชูุณู ุงุณุชุฏุนุงุก `add_usage()`** ุนูุฏ ูู ุชูุงุนู ุฌุฏูุฏ
2. **ุงุณุชุฎุฏู `add_download()`** ููุท ุนูุฏ ุงูุชุญููู ุงููุงุฌุญ
3. **ุงุญูุธ ุงูุฅุญุตุงุฆูุงุช ุจุงูุชุธุงู** ุนุจุฑ `save_stats()`
4. **ุชุญูู ูู ุงูููู ุฏูุฑูุงู** ููุชุฃูุฏ ูู ุตุญุฉ ุงูุจูุงูุงุช
5. **ุงุณุชุฎุฏู ุงูุฅุญุตุงุฆูุงุช** ูููู ุณููู ุงููุณุชุฎุฏููู

---

## ๐ฏ ุงูุฎุทูุงุช ุงูุชุงููุฉ ุงูููุชุฑุญุฉ

- [ ] ุฅุถุงูุฉ ุฑุณู ุจูุงูู ููุฅุญุตุงุฆูุงุช
- [ ] ุชุตุฏูุฑ ุงูุฅุญุตุงุฆูุงุช ุฅูู Excel
- [ ] ุฅุฑุณุงู ุชูุฑูุฑ ูููู ูููุทูุฑ
- [ ] ุชุชุจุน ุงูุฃุฎุทุงุก ุงูุดุงุฆุนุฉ
- [ ] ุชุญููู ุณููู ุงููุณุชุฎุฏููู

---

**ุชู ุฅุนุฏุงุฏ ูุฐุง ุงูููู ุจุชุงุฑูุฎ:** 20 ููุงูุฑ 2024
