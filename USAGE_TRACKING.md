# ๐ ูุธุงู ูุชุงุจุนุฉ ุงูุงุณุชุฎุฏุงูุงุช - Usage Tracking System

## ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุทุจูู ูุธุงู ูุชูุฏู ููุชุงุจุนุฉ ุงุณุชุฎุฏุงู ุงูุจูุช ูุชูุญ ูููุทูุฑ ูุฑุงูุจุฉ ุนุฏุฏ ุงููุณุชุฎุฏููู ูุฃูุดุทุชูู.

## ๐ฏ ููู ูุนูู ุงููุธุงู

### 1๏ธโฃ ุนุฏ ุงูุงุณุชุฎุฏุงู ุนูุฏ ุงูุถุบุท ุนูู `/start`

ุนูุฏ ูู ูุณุชุฎุฏู ูุถุบุท ุนูู ุงูุฃูุฑ `/start`:

- ูุชู ุชุณุฌูู ุงููุณุชุฎุฏู ุฅุฐุง ูุงู ุฌุฏูุฏุงู
- ูุชู ุนุฏ ุงุณุชุฎุฏุงู (usage_count += 1)

```python
stats.add_user(user.id, user.full_name, user.username or "ุจุฏูู ูุนุฑู")
stats.add_usage(user.id)  # ุนุฏ ุงูุงุณุชุฎุฏุงู
```

### 2๏ธโฃ ุนุฏ ุงูุงุณุชุฎุฏุงู ุนูุฏ ุฅุฑุณุงู ุฑุงุจุท

ุนูุฏ ูู ูุณุชุฎุฏู ูุฑุณู ุฑุงุจุท:

- ูุชู ุนุฏ ุงุณุชุฎุฏุงู ูุงุญุฏ
- ููุทุจู ุนูู ุฌููุน ุงูุฑูุงุจุท (ุตูุฑุ ููุฏูููุงุชุ ููุณูููุ ุฅูุฎ)

```python
# ูู ุฏุงูุฉ handle_url
stats.add_usage(user_id)
```

### 3๏ธโฃ ุนุฏ ุงูุงุณุชุฎุฏุงู ุนูุฏ ุชุญููู ูุญุชูู

ุนูุฏ ุงุณุชุฎุฏุงู ุงูุฃูุงูุฑ ุงููุฎุชููุฉ:

- `/image [ุฑุงุจุท]` โ ุนุฏ ุงุณุชุฎุฏุงู
- `/video [ุฑุงุจุท]` โ ุนุฏ ุงุณุชุฎุฏุงู
- `/audio [ุฑุงุจุท]` โ ุนุฏ ุงุณุชุฎุฏุงู
- `/story username` โ ุนุฏ ุงุณุชุฎุฏุงู
- `/info [ุฑุงุจุท]` โ ุนุฏ ุงุณุชุฎุฏุงู
- `/search ุงุณู ุงูุฃุบููุฉ` โ ุนุฏ ุงุณุชุฎุฏุงู

```python
stats.add_usage(update.effective_user.id)
```

---

## ๐ ุจููุฉ ุงูุฅุญุตุงุฆูุงุช

```json
{
  "total_users": 45,
  "users": {
    "5144999281": {
      "name": "ุฃุญูุฏ ูุญูุฏ",
      "username": "example_user",
      "first_seen": "2024-01-20T10:30:45.123456",
      "last_seen": "2024-01-20T15:45:20.654321",
      "usage_count": 23
    }
  },
  "total_downloads": 150,
  "downloads_by_type": {
    "image": 20,
    "video": 50,
    "audio": 60,
    "search": 20
  },
  "total_searches": 20,
  "failed_downloads": 5,
  "start_date": "2024-01-15T08:00:00.000000"
}
```

---

## ๐ ุตูุงุญูุงุช ุงููุทูุฑ

ุชู ุชุญุฏูุซ ูุธุงู ุงูุชุญูู ูู ุงููุทูุฑ ูููุจู **ุทุฑููุชูู** ููุชุญูู:

### โ ุงูุทุฑููุฉ 1: ุนุจุฑ DEVELOPER_ID

```env
DEVELOPER_ID=5144999281
```

### โ ุงูุทุฑููุฉ 2: ุนุจุฑ USERNAME_FOR_DEVELOPER

```env
USERNAME_FOR_DEVELOPER=@husTh1
```

**ุงููุทูุฑ ููููู ุงููุตูู ุฅูู ุงูุฃูุงูุฑ ุงูุชุงููุฉ ุจุงุณุชุฎุฏุงู ุฃู ูู ุงูุทุฑููุชูู:**

- `/stats` - ุนุฑุถ ุฅุญุตุงุฆูุงุช ุงูุจูุช ุงูุดุงููุฉ
- `/broadcast ุฑุณุงูุฉ` - ุฅุฑุณุงู ุฑุณุงูุฉ ูุฌููุน ุงููุณุชุฎุฏููู
- `/dump_debug` - ุชุญููู ููู ุงูุณุฌูุงุช

---

## ๐ ูุนูู ุงูุฅุญุตุงุฆูุงุช

| ุงูุญูู               | ุงููุนูู                          |
| ------------------- | ------------------------------- |
| `total_users`       | ุนุฏุฏ ุงููุณุชุฎุฏููู ุงููุณุฌููู         |
| `usage_count`       | ุนุฏุฏ ูุฑุงุช ุงุณุชุฎุฏุงู ุงููุณุชุฎุฏู ููุจูุช |
| `first_seen`        | ุชุงุฑูุฎ ุฃูู ุงุณุชุฎุฏุงู               |
| `last_seen`         | ุชุงุฑูุฎ ุขุฎุฑ ุงุณุชุฎุฏุงู               |
| `total_downloads`   | ุฅุฌูุงูู ุงูุชุญูููุงุช ุงููุงุฌุญุฉ        |
| `downloads_by_type` | ุชูุฒูุน ุงูุชุญูููุงุช ุญุณุจ ุงูููุน       |
| `total_searches`    | ุนุฏุฏ ุนูููุงุช ุงูุจุญุซ ุนู ุงูุฃุบุงูู     |
| `failed_downloads`  | ุนุฏุฏ ุงูุชุญูููุงุช ุงููุงุดูุฉ           |

---

## ๐พ ููู ุงูุฅุญุตุงุฆูุงุช

ูุชู ุญูุธ ุฌููุน ุงูุฅุญุตุงุฆูุงุช ูู ููู `bot_stats.json` ูู ููุณ ูุฌูุฏ ุงูุจูุช.

**ุงูุชุญุฏูุซ ุงูุชููุงุฆู:** ูุชู ุญูุธ ุงูุฅุญุตุงุฆูุงุช ุชููุงุฆูุงู ุนูุฏ ูู ุงุณุชุฎุฏุงู.

---

## ๐ฏ ุงูุฃูุงูุฑ ุงููุชุงุญุฉ ูููุทูุฑ

### ุนุฑุถ ุงูุฅุญุตุงุฆูุงุช:

```
/stats
```

**ุงูุฅุฎุฑุงุฌ:**

```
๐ ุฅุญุตุงุฆูุงุช ุงูุจูุช ุงูุดุงููุฉ

๐ฅ ุงููุณุชุฎุฏููู:
โข ุฅุฌูุงูู ุงููุณุชุฎุฏููู: 45
โข ุงููุณุชุฎุฏููู ุงููุดุทูู ุงูููู: 12

๐ฅ ุงูุชุญูููุงุช:
โข ุฅุฌูุงูู ุงูุชุญูููุงุช: 150
  - ุตูุฑ: 20
  - ููุฏูููุงุช: 50
  - ููุณููู: 60
  - ุฃุบุงูู (ุจุญุซ): 20

๐ ุงูุจุญุซ:
โข ุฅุฌูุงูู ุนูููุงุช ุงูุจุญุซ: 20

โ ุงููุดู:
โข ุงูุชุญูููุงุช ุงููุงุดูุฉ: 5

๐ ุฃูุซุฑ ุงููุณุชุฎุฏููู ูุดุงุทุงู:
  1. ุฃุญูุฏ ูุญูุฏ (@example_user) - 23 ุงุณุชุฎุฏุงู
  2. ูุญูุฏ ุนูู (@ali_user) - 18 ุงุณุชุฎุฏุงู
  ...

๐ ุชุงุฑูุฎ ุงูุจุฏุก: 2024-01-15
```

### ุฅุฑุณุงู ุฑุณุงูุฉ ูุฌููุน ุงููุณุชุฎุฏููู:

```
/broadcast ูุฑุญุจุง ุจู ูู ุจูุชูุง!
```

### ุชุญููู ุงูุณุฌูุงุช:

```
/dump_debug
```

---

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ุงูุงุณุชุฎุฏุงู ููุญุณุจ ูุฑุฉ ูุงุญุฏุฉ ููุท** ุนูุฏ ูู ุชูุงุนู ูุน ุงูุจูุช
2. **ุงููุณุชุฎุฏููู ุงูุฌุฏุฏ** ูุชู ุชุณุฌูููู ุชููุงุฆูุงู ุนูุฏ ุงูุงุดุชุฑุงู
3. **ุขุฎุฑ ุงุณุชุฎุฏุงู** ูุชู ุชุญุฏูุซู ุฏุงุฆูุงู
4. **ุงููุทูุฑ ููุท** ููููู ุฑุคูุฉ ุงูุฅุญุตุงุฆูุงุช
5. **ุงูุจูุงูุงุช ูุญููุธุฉ ุฏุงุฆูุงู** ูู ููู JSON

---

## ๐ง ุงูุชุฎุตูุต

ูุชุบููุฑ ุทุฑููุฉ ุงูุนุฏ ุฃู ุฅุถุงูุฉ ูุชุบูุฑุงุช ุฌุฏูุฏุฉุ ุนุฏูู ุฏุงูุฉ `add_usage()` ูู ุงููุฆุฉ `BotStats`:

```python
def add_usage(self, user_id):
    """ุชุณุฌูู ุงุณุชุฎุฏุงู ูููุณุชุฎุฏู"""
    user_id_str = str(user_id)
    now = datetime.now().isoformat()

    if user_id_str in self.data['users']:
        self.data['users'][user_id_str]['usage_count'] += 1
        self.data['users'][user_id_str]['last_seen'] = now
    else:
        # ุชุณุฌูู ุงููุณุชุฎุฏู ุงูุฌุฏูุฏ
        self.data['users'][user_id_str] = {
            'name': 'Unknown',
            'username': 'unknown',
            'first_seen': now,
            'last_seen': now,
            'usage_count': 1
        }

    self.save_stats()
```

---

## โจ ุงูุฎูุงุตุฉ

โ ุชู ุชุทุจูู ูุธุงู ูุชูุฏู ููุชุงุจุนุฉ ุงูุงุณุชุฎุฏุงูุงุช  
โ ูุนูู ูุน ุฌููุน ุฃููุงุน ุงูุชูุงุนูุงุช  
โ ุฏุนู ุงูุชุญูู ูู ุงููุทูุฑ ุนุจุฑ ID ู Username  
โ ุฅุญุตุงุฆูุงุช ุชูุตูููุฉ ูุณููุฉ ุงูููู  
โ ุญูุธ ุขูู ููุจูุงูุงุช

---

**ุชู ุงูุชุทููุฑ ุจูุงุณุทุฉ:** ูุฑูู ุงูุชุทููุฑ  
**ุงูุชุงุฑูุฎ:** 20 ููุงูุฑ 2024
